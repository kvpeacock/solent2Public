# Shopping Cart APPLICATION
### Use Cases and Features
The basic features required for this application are:

* Access to a bank REST API, used to handle the transfer of money between customers and shopkeepers
* A properties file that a shopkeeper can configure, used to store the credit card details that customers pay into when purchasing goods 
* The ability to log all transactions to a single transactions log file
* A number of data access objects, used to store important data:    
    * A user store, used to store all current users with an account
    * An item catalog store, used to store all items available for users to purchase
    * An invoice store, used to store all invoices generated by the system whenever a purchase is made
    * An invoice item store, used to store a list of all items purchased and a key to the corresponding invoice

* A login page, allowing anonymous users to login
* A registration page, allowing anonymous users to register a new account

* Support for multiple sessions, with users in the following roles:
    * ANONYMOUS:
        * A user who has not yet logged in      
    * CUSTOMER:
        * A user who has logged in
    * ADMINISTRATOR:
        * Shopkeepers
        * Able to edit data stored in the site's databases, excluding invoices (except invoice status), and user payment cards
        * Able to create new users and items
        * Able to delete users and items
    * DEACTIVATED:
        * A user who cannot login, however all invoices are retained. Account deactivation can be performed by the user or an admin

* A storefront page, allowing users to:
    * View all items within the item catalog
    * Search for items within the item catalog by item name
    * Add or remove any item to and from their cart
    * Purchase the items stored within their cart, through the use of a specified bank service

* A user invoice page, allowing users to:
    * View all past invoices generated from their past purchases

* A shopkeeper invoice page, allowing shopkeepers to:
    * View all past invoices generated from all past purchases
    * Search for specific invoices by invoice ID
    * Edit an invoice status, such as REJECTED, FULFILLED, PENDING
    
* A shopkeeper item catalog page, allowing shopkeepers to update, create or delete items

* A user details page, allowing users to:
    * Update their details (name, address, default payment card number)
    * Change their password
    * Deactivate their account

* A user details page, allowing shopkeepers to:
    * Update details for any account (except default payment card)
    * Deactivate any account
    

The following requirements are written from the perspective of what different users need from the application:


| Use case ID 	| Actor 	| Action | Software Reaction |
| ----------- 	| ----------| ----------- | ----------- |
| UC1			| Any 		| User enters in the URL for the shopping application. | A web page opens, showing the home page of the app. The user will be set to ANONYMOUS. |
| UC2			| Any 		| User requests to create an account.	| The account registration page is loaded. If all fields are valid, an account is created. |
| UC3			| Any 		| User requests to login. | The login page is loaded. If all fields are valid, and the specified account exists, the user will be logged in |
| UC4			| Any 		| User requests to logout. | The user is logged out. The user will be set to ANONYMOUS. |
| UC5			| Any		| User requests the app to perform any action. | The program must be able to complete user requests within 1 second. |
| UC6			| Any 		| User enters invalid data in an input field. | The form submission is rejected, and an error message about the invalid field is displayed. |
| UC6			| Any 		| User enters invalid data in an input field. | The form submission is rejected, and an error message about the invalid field is displayed. |
| UC7			| Customer 	| Customer requests to add an item to their cart. | Provided the item is in stock, the item is added to the cart. If not, a useful error message will be shown. |
| UC8			| Customer	| Customer requests to remove an item from their cart. | The item is removed from the cart. |
| UC9			| Customer 	| Customer requests to search for an item. | The item list is updated to match the search query. |
| UC10			| Customer 	| Customer requests to purchase the items in their cart. | If there is enough stock to fulfil their order, they will be asked to confirm the transaction. Otherwise, an error message will be displayed informing them that an item stock level was not high enough. |
| UC11			| Customer 	| Customer confirms a purchase transaction. | If there is enough stock, the application transfers money from the userâ€™s credit card equal to the total amount required by the order, and an invoice is generated. If there is not enough money in the account, or if the user has not entered a valid card, the transaction is rejected. |
| UC12			| Customer 	| Customer confirms a purchase transaction. | The application stores all transactions locally in a log file. The CVV number must not be stored by the application. |
| UC13			| Customer  	| A transaction is successful. | Item stock levels are updated. Invoice status is set to PENDING.|
| UC14			| Customer 	| A transaction is rejected. | Invoice status is set to REJECTED. User is returned to the home page, notified of the particular error. |
| UC15			| Customer 	| Customer requests to view their invoices. | The application displays their previous invoices. |
| UC16			| Customer 	| Customer requests to view their account details. | The application displays their account details. |
| UC17			| Customer	| Customer requests to update their account details. | Provided all fields are valid, the user details are updated. |
| UC18			| Admin 	| Admin configures the shopkeeper card properties file. | The credentials of the card need to be stored securely in a local properties file. |
| UC19			| Admin		| Admin starts up the application. | The properties file is read on start-up, automatically recognising the shopkeeper's card. |
| UC20			| Admin		| Admin tries to view a log of all transactions. | All transactions, both successful and rejected, undertaken by users must be stored locally in a logfile; this logfile must be accessible for only admins and stored locally. |
| UC21			| Admin		| Admin requests to view the catalog | A list of all catalog items is displayed. |
| UC22			| Admin		| Admin requests to view a catalog item | The catalog item details are displayed. |
| UC23			| Admin		| Admin requests to update a catalog item | Provided all fields are valid, the catalog item details are updated. |
| UC24			| Admin		| Admin requests to delete a catalog item | The item is deleted. Any references to the item within user carts are removed. |
| UC25			| Admin		| Admin requests to view all users | A list of all users is displayed. |
| UC26			| Admin		| Admin requests to view a user's details. | The specified user details are displayed. |
| UC27			| Admin		| Admin requests to update a user's details | Provided all fields are correct, the user details are updated. |
| UC28			| Admin		| Admin requests to delete a user. | Provided the user is not signed in, the user is deleted. |
| UC29			| Admin		| Admin requests to view all invoices. | A list of all invoices is displayed. |
| UC30			| Admin		| Admin requests to view an invoice's details. | The specified invoice details are displayed. |
| UC31			| Admin		| Admin requests to update an invoice status. | The invoice status is updated. |
| UC32			| Non-admins 	| Non-admin attempts to access an admin only webpage. | They are returned to the home page, with an 'Access Denied' message displayed. |





